
Starting server in PID 11187.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': []}
Starting server in PID 11986.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58773c175e77b008540d6cd1'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154604.png', u'gender': u'0', u'userId': u'15827486857', u'liveStatus': u'on', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58773e8c75b6256c490d7c36'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
2017-01-12 18:17:03,922 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 125, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 77, in send_sms_changzhuo
    path = self.request.path)
TypeError: __init__() got an unexpected keyword argument 'path'
Starting server in PID 14121.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-28T18:35:23.468977136+08:00', u'title': u'58775beb1013851dd60e6394', u'publishKey': u'1dab800e2d734718', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-12T18:35:23.468+08:00', u'id': u'z1.mrpyq.58775beb1013851dd60e6394', u'createdAt': u'2017-01-12T18:35:23.468+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154604.png', u'gender': u'0', u'userId': u'15827486857', u'liveStatus': u'on', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58775beb1013851dd60e6394'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
2017-01-12 18:46:53,093 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 125, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 77, in send_sms_changzhuo
    self.request.path)
APIError: /register
Starting server in PID 15488.
Serving on http://0.0.0.0:5001
13182869169 9019
2017-01-12 18:53:29,777 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 130, in send_code
    if res[0] and res[1]== 0:
TypeError: 'Response' object does not support indexing
2017-01-12 19:10:46,778 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 444, in show_list_friend
    temp = self.get_friend(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 433, in get_friend
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 19:11:41,564 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 443, in show_list_friend
    temp = self.get_friend(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 432, in get_friend
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 19:12:20,216 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 443, in show_list_friend
    temp = self.get_friend(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 432, in get_friend
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 19:14:12,850 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 127, in send_code
    return json.dumps(json.loads(res),ensure_ascii=False)
  File "/usr/lib64/python2.7/json/__init__.py", line 338, in loads
    return _default_decoder.decode(s)
  File "/usr/lib64/python2.7/json/decoder.py", line 365, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
TypeError: expected string or buffer
Starting server in PID 16331.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
2017-01-12 19:15:03,987 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 441, in show_list_friend
    temp = self.get_friend(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 430, in get_friend
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
Starting server in PID 16370.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
2017-01-12 19:16:49,926 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 441, in show_list_friend
    temp = self.get_friend(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 430, in get_friend
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
2017-01-12 19:26:08,610 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 125, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 77, in send_sms_changzhuo
    self.request.path)
APIError: /register
Starting server in PID 16706.
Serving on http://0.0.0.0:5001
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-28T19:28:37.581630494+08:00', u'title': u'5877686575b6256c490ebec6', u'publishKey': u'd1c637cb50067c1f', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-12T19:28:37.581+08:00', u'id': u'z1.mrpyq.5877686575b6256c490ebec6', u'createdAt': u'2017-01-12T19:28:37.581+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-28T19:42:31.764122768+08:00', u'title': u'58776ba71013851dd60ed877', u'publishKey': u'1da222ce2ae6ae29', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-12T19:42:31.764+08:00', u'id': u'z1.mrpyq.58776ba71013851dd60ed877', u'createdAt': u'2017-01-12T19:42:31.764+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58776ba71013851dd60ed877'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58776ba71013851dd60ed877'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58776ba71013851dd60ed877'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58776ba71013851dd60ed877'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58776ba71013851dd60ed877'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58776ba71013851dd60ed877'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58776f8875b6256c490ef191'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
Starting server in PID 18569.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
Starting server in PID 18868.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
Starting server in PID 18944.
Serving on http://0.0.0.0:5001
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-28T20:27:51.656389623+08:00', u'title': u'587776471013851dd60f24d3', u'publishKey': u'dae0c34468c88a03', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-12T20:27:51.656+08:00', u'id': u'z1.mrpyq.587776471013851dd60f24d3', u'createdAt': u'2017-01-12T20:27:51.656+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
Starting server in PID 19201.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170110155642.png', u'gender': u'0', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u6211\u771f\u60f3\u9759\u9759', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{u'headImage': u'static/user_imgs/20170109170134.png', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', u'userId': u'12345678912', 'flag': 2, u'gender': u'1'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154604.png', u'gender': u'0', u'userId': u'15827486857', u'liveStatus': u'on', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58775beb1013851dd60e6394'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
Starting server in PID 20481.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154604.png', u'gender': u'0', u'userId': u'15827486857', u'liveStatus': u'on', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58775beb1013851dd60e6394'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170109170134.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u6211\u4e0d\u60f3\u9759\u9759', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587777dd1013851dd60f30d2'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112154554.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'on', u'nickname': u'\u9ec4\u554a', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5877472e1013851dd60dbfe9'}}]}
2017-01-12 21:24:32,672 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 21:24:46,881 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
Starting server in PID 20822.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': []}
2017-01-12 21:28:41,169 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 21:28:44,476 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 21:28:47,202 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 21:28:57,349 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 21:29:29,921 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 21:29:54,286 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 440, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 429, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-12 21:31:40,558 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 449, in show_list_message
    user = pyc.find({"userId":kws["userid"]},{"_id":0})[0]
  File "/env/lib/python2.7/site-packages/pymongo/cursor.py", line 567, in __getitem__
    raise IndexError("no such item for Cursor instance")
IndexError: no such item for Cursor instance
Starting server in PID 21165.
Serving on http://0.0.0.0:5001
11111111111 3439
2017-01-12 21:36:59,400 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
2017-01-12 21:37:20,550 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
2017-01-12 21:37:21,336 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
2017-01-12 21:37:21,753 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
11111111111 0307
2017-01-12 21:38:42,107 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
2017-01-12 21:38:49,583 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
2017-01-12 21:38:50,677 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
2017-01-12 21:38:51,018 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
2017-01-12 21:38:53,238 ERROR [waitress][waitress] Exception when serving /register
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 128, in send_code
    res = self.send_sms_changzhuo(phone_number,code)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 53, in send_sms_changzhuo
    if phone.find('+')>= 0:
AttributeError: 'NoneType' object has no attribute 'find'
Starting server in PID 21472.
Serving on http://0.0.0.0:5001
['20170112214300', '101']
13182869169 5130
['20170112214304', '101']
22222222222 1549
['20170112214323', '101']
11111111111 8807
{'count': 0, 'friends': []}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112214348.png', u'gender': u'1', u'userId': u'11111111111', u'liveStatus': u'off', u'nickname': u'\u9ec4\u9759\u8fdc', 'playUrl': None}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-28T21:44:50.550856003+08:00', u'title': u'5877885275b6256c490f95ea', u'publishKey': u'7cdddd183f24d439', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-12T21:44:50.55+08:00', u'id': u'z1.mrpyq.5877885275b6256c490f95ea', u'createdAt': u'2017-01-12T21:44:50.55+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112214349.png', u'gender': u'1', u'userId': u'22222222222', u'liveStatus': u'off', u'nickname': u'\u641e\u8d77', 'playUrl': None}]}
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170112214349.png', u'gender': u'1', u'userId': u'22222222222', u'liveStatus': u'off', u'nickname': u'\u641e\u8d77', 'playUrl': None}]}
Starting server in PID 5266.
Serving on http://0.0.0.0:5001
['20170113090732', '101']
None 5361
Starting server in PID 5822.
Serving on http://0.0.0.0:5001
['20170113093217', '101']
12345678912 4993
['20170113093518', '101']
12345678912 8732
['20170113093712', '101']
12345678912 6635
Starting server in PID 6759.
Serving on http://0.0.0.0:5001
['20170113094056', '101']
None 3778
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': None}]}
None
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-29T10:06:47.30228839+08:00', u'title': u'58783637a95be7247f012800', u'publishKey': u'f7f525445fecb30b', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-13T10:06:47.302+08:00', u'id': u'z1.mrpyq.58783637a95be7247f012800', u'createdAt': u'2017-01-13T10:06:47.302+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
Starting server in PID 7963.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783447818c626087011e12'}}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-29T10:12:46.19600308+08:00', u'title': u'5878379e68d03f0517013307', u'publishKey': u'8b3bf3c69b7e5455', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-13T10:12:46.196+08:00', u'id': u'z1.mrpyq.5878379e68d03f0517013307', u'createdAt': u'2017-01-13T10:12:46.196+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58783637a95be7247f012800'}}]}
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'on', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
None
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878379e68d03f0517013307'}}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-29T10:15:06.164715724+08:00', u'title': u'5878382a818c626087013776', u'publishKey': u'664ef6b944031f3b', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-13T10:15:06.164+08:00', u'id': u'z1.mrpyq.5878382a818c626087013776', u'createdAt': u'2017-01-13T10:15:06.164+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878382a818c626087013776'}}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-29T10:18:33.738905651+08:00', u'title': u'587838f9a95be7247f013a4a', u'publishKey': u'11f02262dc485673', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-13T10:18:33.738+08:00', u'id': u'z1.mrpyq.587838f9a95be7247f013a4a', u'createdAt': u'2017-01-13T10:18:33.738+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
['20170113105640', '101']
None 3361
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587838f9a95be7247f013a4a'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
None
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878438768d03f0517018682'}}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-29T11:04:31.381624393+08:00', u'title': u'587843bfa95be7247f0186fb', u'publishKey': u'd05ae9e74474d04c', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-13T11:04:31.381+08:00', u'id': u'z1.mrpyq.587843bfa95be7247f0186fb', u'createdAt': u'2017-01-13T11:04:31.381+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
None
None
['20170113110506', '101']
None 9204
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587843bfa95be7247f0186fb'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
['20170113110601', '101']
None 4043
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
['20170113110608', '101']
None 8945
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
['20170113110617', '101']
None 9280
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784415a95be7247f01895d'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
['20170113110651', '101']
44444444444 0965
None
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
['20170113111323', '101']
12345678922 4874
['20170113111400', '101']
None 2399
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
['20170113112411', '101']
44444444444 3359
['20170113112626', '101']
12345678913 5471
['20170113113137', '101']
12345678913 0138
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113090751.png', u'gender': u'1', u'userId': u'33333333333', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784434a95be7247f018a40'}}]}
['20170113113458', '101']
66666666666 3274
{'count': 0, 'friends': []}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'on', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': None}]}
None
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784c3e68d03f051701c519'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
2017-01-13 11:42:55,559 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:42:57,509 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:42:59,781 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:01,613 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:04,414 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:09,241 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:10,913 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:15,659 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:16,599 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:17,595 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:19,854 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:23,437 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:30,564 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:36,531 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:44,294 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:45,706 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:46,821 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:47,793 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:49,430 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:52,997 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:54,848 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:56,847 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:43:59,167 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:44:01,417 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 11:44:09,149 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 13:55:35,405 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 13:56:17,929 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:04:44,066 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:05:15,054 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
{'count': 0, 'friends': []}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
2017-01-13 14:05:49,528 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:05:55,355 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:05:57,420 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:06:04,928 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:06:18,120 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:06:44,603 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:06:47,734 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:07:11,712 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:07:23,178 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
Traceback (most recent call last):
  File "/env/bin/pserve", line 11, in <module>
    load_entry_point('pyramid', 'console_scripts', 'pserve')()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 50, in main
    return command.run()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 304, in run
    global_conf=vars)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 328, in loadapp
    return loadapp(app_spec, name=name, relative_to=relative_to, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 247, in loadapp
    return loadobj(APP, uri, name=name, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 272, in loadobj
    return context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 203, in invoke
    app = context.app_context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 146, in invoke
    return fix_call(context.object, context.global_conf, **context.local_conf)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/util.py", line 55, in fix_call
    val = callable(*args, **kw)
  File "/env/workspace/PyramidProject/MyProject/myproject/__init__.py", line 67, in main
    config.scan()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/__init__.py", line 948, in scan
    ignore=ignore)
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 185, in scan
    for importer, modname, ispkg in results:
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 378, in walk_packages
    __import__(name)
  File "/env/workspace/PyramidProject/MyProject/myproject/top/__init__.py", line 6, in <module>
    from top.api.base import sign
ImportError: No module named top.api.base
Traceback (most recent call last):
  File "/env/bin/pserve", line 11, in <module>
    load_entry_point('pyramid', 'console_scripts', 'pserve')()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 50, in main
    return command.run()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 304, in run
    global_conf=vars)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 328, in loadapp
    return loadapp(app_spec, name=name, relative_to=relative_to, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 247, in loadapp
    return loadobj(APP, uri, name=name, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 272, in loadobj
    return context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 203, in invoke
    app = context.app_context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 146, in invoke
    return fix_call(context.object, context.global_conf, **context.local_conf)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/util.py", line 55, in fix_call
    val = callable(*args, **kw)
  File "/env/workspace/PyramidProject/MyProject/myproject/__init__.py", line 67, in main
    config.scan()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/__init__.py", line 948, in scan
    ignore=ignore)
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 185, in scan
    for importer, modname, ispkg in results:
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 378, in walk_packages
    __import__(name)
  File "/env/workspace/PyramidProject/MyProject/myproject/top/__init__.py", line 6, in <module>
    from top.api.base import sign
ImportError: No module named top.api.base
Traceback (most recent call last):
  File "/env/bin/pserve", line 11, in <module>
    load_entry_point('pyramid', 'console_scripts', 'pserve')()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 50, in main
    return command.run()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 304, in run
    global_conf=vars)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 328, in loadapp
    return loadapp(app_spec, name=name, relative_to=relative_to, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 247, in loadapp
    return loadobj(APP, uri, name=name, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 272, in loadobj
    return context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 203, in invoke
    app = context.app_context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 146, in invoke
    return fix_call(context.object, context.global_conf, **context.local_conf)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/util.py", line 55, in fix_call
    val = callable(*args, **kw)
  File "/env/workspace/PyramidProject/MyProject/myproject/__init__.py", line 67, in main
    config.scan()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/__init__.py", line 948, in scan
    ignore=ignore)
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 185, in scan
    for importer, modname, ispkg in results:
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 378, in walk_packages
    __import__(name)
  File "/env/workspace/PyramidProject/MyProject/myproject/top/__init__.py", line 6, in <module>
    from top.api.base import sign
ImportError: No module named top.api.base
Traceback (most recent call last):
  File "/env/bin/pserve", line 11, in <module>
    load_entry_point('pyramid', 'console_scripts', 'pserve')()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 50, in main
    return command.run()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 304, in run
    global_conf=vars)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/scripts/pserve.py", line 328, in loadapp
    return loadapp(app_spec, name=name, relative_to=relative_to, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 247, in loadapp
    return loadobj(APP, uri, name=name, **kw)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 272, in loadobj
    return context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 203, in invoke
    app = context.app_context.create()
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 710, in create
    return self.object_type.invoke(self)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/loadwsgi.py", line 146, in invoke
    return fix_call(context.object, context.global_conf, **context.local_conf)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/util.py", line 55, in fix_call
    val = callable(*args, **kw)
  File "/env/workspace/PyramidProject/MyProject/myproject/__init__.py", line 67, in main
    config.scan()
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/__init__.py", line 948, in scan
    ignore=ignore)
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 185, in scan
    for importer, modname, ispkg in results:
  File "/env/lib/python2.7/site-packages/venusian-1.0-py2.7.egg/venusian/__init__.py", line 378, in walk_packages
    __import__(name)
  File "/env/workspace/PyramidProject/MyProject/myproject/top/__init__.py", line 6, in <module>
    from top.api.base import sign
ImportError: No module named top.api.base
Starting server in PID 15279.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
2017-01-13 14:17:25,714 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:17:36,575 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:17:40,047 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:17:43,157 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
2017-01-13 14:18:50,848 ERROR [waitress][waitress] Exception when serving /list
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 453, in show_list_friend
    temp = self.get_friends(kws["userid"])
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 442, in get_friends
    li.sort(self.my_cmp)
TypeError: my_cmp() takes exactly 2 arguments (3 given)
Starting server in PID 15373.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784c3e68d03f051701c519'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784c3e68d03f051701c519'}}]}
{u'nonce': 0, u'publishSecurity': u'static', u'hub': u'mrpyq', u'expireAt': u'2017-01-29T14:20:05.453649513+08:00', u'title': u'5878719568d03f051702cd2f', u'publishKey': u'209af1f44b77a508', u'disabled': False, u'disabledTill': 0, u'nropEnable': None, u'hosts': {u'live': {u'snapshot': u'pili-live-snapshot.mrpyq.com', u'http': u'pili-live-hls.mrpyq.com', u'hdl': u'pili-live-hdl.mrpyq.com', u'hls': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'playback': {u'http': u'10004p0.playback1.z1.pili.qiniucdn.com', u'hls': u'10004p0.playback1.z1.pili.qiniucdn.com'}, u'play': {u'http': u'pili-live-hls.mrpyq.com', u'rtmp': u'pili-live-rtmp.mrpyq.com'}, u'publish': {u'rtmp': u'pili-publish.mrpyq.com'}}, u'updatedAt': u'2017-01-13T14:20:05.453+08:00', u'id': u'z1.mrpyq.5878719568d03f051702cd2f', u'createdAt': u'2017-01-13T14:20:05.453+08:00'}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}]}
None
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
Starting server in PID 15892.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113094137.png', u'gender': u'1', u'userId': u'12345678912', u'liveStatus': u'off', u'nickname': u'\u5c0f\u54e5\u54e5', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/587837d7818c626087013561'}}, {u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
Starting server in PID 17167.
Serving on http://0.0.0.0:5001
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 3, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 3, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 3, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 3, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': []}
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}, {u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
2017-01-13 15:46:42,072 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
2017-01-13 15:46:42,816 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:44,295 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:44,624 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:49,657 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:49,771 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:50,758 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:53,133 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:53,587 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
2017-01-13 15:46:55,230 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': []}
2017-01-13 15:47:04,644 ERROR [waitress][waitress] Exception when serving /friend
Traceback (most recent call last):
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/channel.py", line 338, in service
    task.service()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 169, in service
    self.execute()
  File "/env/lib/python2.7/site-packages/waitress-1.0.0-py2.7.egg/waitress/task.py", line 399, in execute
    app_iter = self.channel.server.application(env, start_response)
  File "/env/lib/python2.7/site-packages/PasteDeploy-1.5.2-py2.7.egg/paste/deploy/config.py", line 291, in __call__
    return self.app(environ, start_response)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 251, in __call__
    response = self.invoke_subrequest(request, use_tweens=True)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 227, in invoke_subrequest
    response = handle_request(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/tweens.py", line 21, in excview_tween
    response = handler(request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/router.py", line 161, in handle_request
    response = view_callable(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 588, in __call__
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 321, in attr_view
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 297, in predicate_wrapper
    return view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 347, in rendered_view
    result = view(context, request)
  File "/env/lib/python2.7/site-packages/pyramid-1.4.9-py2.7.egg/pyramid/config/views.py", line 469, in _class_requestonly_view
    response = getattr(inst, attr)()
  File "/env/workspace/PyramidProject/MyProject/myproject/auth.py", line 34, in authed
    return method(self,**struct)
  File "/env/workspace/PyramidProject/MyProject/myproject/views.py", line 315, in deal_messages
    {"messages.$.flag":"3"})
  File "/env/workspace/PyramidProject/MyProject/myproject/mongodb_connect.py", line 67, in update
    self.coll.update(query,{'$set':data},True)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 2244, in update
    check_keys, multi, manipulate, write_concern)
  File "/env/lib/python2.7/site-packages/pymongo/collection.py", line 716, in _update
    _check_write_command_response([(0, result)])
  File "/env/lib/python2.7/site-packages/pymongo/helpers.py", line 310, in _check_write_command_response
    raise WriteError(error.get("errmsg"), error.get("code"), error)
WriteError: The positional operator did not find the match needed from the query. Unexpanded update: messages.$.flag
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 0, 'friends': []}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}]}
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878719568d03f051702cd2f'}}]}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'on', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878874e818c626087038665'}}]}
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 2, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 3, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878874e818c626087038665'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878874e818c626087038665'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/5878874e818c626087038665'}}]}
None
None
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 3, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 3, 'friends': [{u'headImage': u'static/user_imgs/20170113113242.png', u'gender': u'0', u'userId': u'12345678913', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0\u6211\u60f3', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}, {u'headImage': u'static/user_imgs/20170113113732.png', u'gender': u'0', u'userId': u'77777777777', u'liveStatus': u'off', u'nickname': u'\u838e\u838e', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58784b9ca95be7247f01c064'}}]}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 0, 'friends': []}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113111501.png', u'gender': u'1', u'userId': u'12345678922', u'liveStatus': u'off', u'nickname': u'\u5c0f\u59d0\u59d0', 'playUrl': None}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
Starting server in PID 19637.
Serving on http://0.0.0.0:5001
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
['20170113162359', '101']
13182869169 0176
['20170113162416', '101']
15827629046 4864
Starting server in PID 20094.
Serving on http://0.0.0.0:5001
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
{'count': 1, 'friends': [{u'headImage': u'static/user_imgs/20170113113646.png', u'gender': u'1', u'userId': u'66666666666', u'liveStatus': u'off', u'nickname': u'\u81ea\u4fe1\u4fe1', 'playUrl': {u'ORIGIN': u'rtmp://pili-live-rtmp.mrpyq.com/mrpyq/58788787818c626087038815'}}]}
Starting server in PID 20629.
Serving on http://0.0.0.0:5001
{'count': 0, 'friends': []}
